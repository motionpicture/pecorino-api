const moment = require("moment");
const request = require("request-promise-native");

const accessToken = 'eyJraWQiOiJ0M1pHMUs1cG1xNHg3dms5QkRLMDNaeUJJN091VDlOcHV1WGxIOThQc29RPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiIxMTFkZjE4Ni0yNDU4LTRiNGMtOWRlNy1jNzEwODFhOTRkYTgiLCJ0b2tlbl91c2UiOiJhY2Nlc3MiLCJzY29wZSI6Imh0dHBzOlwvXC9rd3NrZnMtYXBpLWRldmVsb3BtZW50LmF6dXJld2Vic2l0ZXMubmV0XC90cmFuc2FjdGlvbnMgYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4gaHR0cHM6XC9cL2t3c2tmcy1wZWNvcmluby1hcGktZGV2ZWxvcG1lbnQuYXp1cmV3ZWJzaXRlcy5uZXRcL2FjY291bnRzLnJlYWQtb25seSBodHRwczpcL1wva3dza2ZzLXBlY29yaW5vLWFwaS1kZXZlbG9wbWVudC5henVyZXdlYnNpdGVzLm5ldFwvYWNjb3VudHMuYWN0aW9ucy5yZWFkLW9ubHkgaHR0cHM6XC9cL2t3c2tmcy1wZWNvcmluby1hcGktZGV2ZWxvcG1lbnQuYXp1cmV3ZWJzaXRlcy5uZXRcL3RyYW5zYWN0aW9ucyBwaG9uZSBvcGVuaWQgcHJvZmlsZSBodHRwczpcL1wva3dza2ZzLWFwaS1kZXZlbG9wbWVudC5henVyZXdlYnNpdGVzLm5ldFwvb3JnYW5pemF0aW9ucy5yZWFkLW9ubHkgaHR0cHM6XC9cL2t3c2tmcy1wZWNvcmluby1hcGktZGV2ZWxvcG1lbnQuYXp1cmV3ZWJzaXRlcy5uZXRcL2FjY291bnRzIGVtYWlsIiwiYXV0aF90aW1lIjoxNTI0OTkyNzI4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuYXAtbm9ydGhlYXN0LTEuYW1hem9uYXdzLmNvbVwvYXAtbm9ydGhlYXN0LTFfNkxjdmUwU3FXIiwiZXhwIjoxNTI0OTk2MzI4LCJpYXQiOjE1MjQ5OTI3MjgsInZlcnNpb24iOjIsImp0aSI6ImI4YTY1YjAyLWEzNmMtNDMxNS05NjI5LTA1ODI0ZWZhZWNlNyIsImNsaWVudF9pZCI6Ijc1YnRuOTVma2ZqdWo3N2hzYmlwMDVsamJlIiwidXNlcm5hbWUiOiJpbG92ZWdhZGQifQ.CeJb5hfPWqNlAKDmvE-1icSQbIsI-2HigiCFieofXOYIddgp7VxXoeOYqFXFzGiMcnvoQpdAutvH9MYj1R9uKJXGgddjyBk7VQURhrmEqVWdBEBsUd68hK0wFSBov32JCPh2X3FnkcrOL2bLrBfhnDTUpARYVFs2IqRTdyuQ2rKOrAceZKt10zM0WegpGSHzD7CroHchOPdNFiX7OmvZ69Oisca5g2gPYGRRNA4mcwOtijt7UEGWZAWZ7DJ9h_wlnPWqGPKfhcTMDPLhnGpdJ2PoxPQzPZ6hcu3qYtmeT60Kw8XYa-5OlZDG9gshtMbj25h1S4ejakAzUScfJMeW3A';

request.post({
    url: `http://localhost:8081/accounts/me`,
    auth: { bearer: accessToken },
    json: true,
    simple: false,
    resolveWithFullResponse: true,
    body: {
        name: 'PECORINO TARO',
        initialBalance: 9999
    }
}).then((response) => {
    console.log('response:', response.statusCode, response.body);
}).catch(console.error);
